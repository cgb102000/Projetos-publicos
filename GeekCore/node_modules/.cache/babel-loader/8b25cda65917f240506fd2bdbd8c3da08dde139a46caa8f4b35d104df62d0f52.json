{"ast":null,"code":"import{useState,useEffect}from'react';import{authService}from'../services/api';import{Card}from'../components/Card';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function Favoritos(){const[favorites,setFavorites]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{loadFavorites();},[]);async function loadFavorites(){try{const data=await authService.getFavorites();setFavorites(data);}catch(error){console.error('Erro ao carregar favoritos:',error);}finally{setLoading(false);}}async function handleRemoveFavorite(id,tipo){try{await authService.toggleFavorite(id,tipo);setFavorites(favorites.filter(item=>item._id!==id));}catch(error){console.error('Erro ao remover favorito:',error);}}if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"content-section pt-20 animate-fadeIn\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"section-title\",children:\"Meus Favoritos\"}),favorites.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-light text-center text-lg\",children:\"Voc\\xEA ainda n\\xE3o tem favoritos.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4\",children:favorites.map(item=>/*#__PURE__*/_jsx(Card,{item:item,isAuthenticated:true,onFavorite:()=>handleRemoveFavorite(item._id,item.tipo)},item._id))})]});}","map":{"version":3,"names":["useState","useEffect","authService","Card","jsx","_jsx","jsxs","_jsxs","Favoritos","favorites","setFavorites","loading","setLoading","loadFavorites","data","getFavorites","error","console","handleRemoveFavorite","id","tipo","toggleFavorite","filter","item","_id","className","children","length","map","isAuthenticated","onFavorite"],"sources":["C:/Users/Caio/Documents/GitHub/Projetos-publicos/GeekCore/src/pages/Favoritos.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { authService } from '../services/api';\r\nimport { Card } from '../components/Card';\r\n\r\nexport function Favoritos() {\r\n  const [favorites, setFavorites] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadFavorites();\r\n  }, []);\r\n\r\n  async function loadFavorites() {\r\n    try {\r\n      const data = await authService.getFavorites();\r\n      setFavorites(data);\r\n    } catch (error) {\r\n      console.error('Erro ao carregar favoritos:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleRemoveFavorite(id, tipo) {\r\n    try {\r\n      await authService.toggleFavorite(id, tipo);\r\n      setFavorites(favorites.filter(item => item._id !== id));\r\n    } catch (error) {\r\n      console.error('Erro ao remover favorito:', error);\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"content-section pt-20 animate-fadeIn\">\r\n      <h1 className=\"section-title\">Meus Favoritos</h1>\r\n      {favorites.length === 0 ? (\r\n        <p className=\"text-light text-center text-lg\">Você ainda não tem favoritos.</p>\r\n      ) : (\r\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4\">\r\n          {favorites.map(item => (\r\n            <Card \r\n              key={item._id} \r\n              item={item}\r\n              isAuthenticated={true}\r\n              onFavorite={() => handleRemoveFavorite(item._id, item.tipo)}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,WAAW,KAAQ,iBAAiB,CAC7C,OAASC,IAAI,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,MAAO,SAAS,CAAAC,SAASA,CAAA,CAAG,CAC1B,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACdY,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,cAAe,CAAAA,aAAaA,CAAA,CAAG,CAC7B,GAAI,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAZ,WAAW,CAACa,YAAY,CAAC,CAAC,CAC7CL,YAAY,CAACI,IAAI,CAAC,CACpB,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACrD,CAAC,OAAS,CACRJ,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAEA,cAAe,CAAAM,oBAAoBA,CAACC,EAAE,CAAEC,IAAI,CAAE,CAC5C,GAAI,CACF,KAAM,CAAAlB,WAAW,CAACmB,cAAc,CAACF,EAAE,CAAEC,IAAI,CAAC,CAC1CV,YAAY,CAACD,SAAS,CAACa,MAAM,CAACC,IAAI,EAAIA,IAAI,CAACC,GAAG,GAAKL,EAAE,CAAC,CAAC,CACzD,CAAE,MAAOH,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CACF,CAEA,GAAIL,OAAO,CAAE,CACX,mBACEN,IAAA,QAAKoB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,cAC5DrB,IAAA,QAAKoB,SAAS,CAAC,0EAA0E,CAAM,CAAC,CAC7F,CAAC,CAEV,CAEA,mBACElB,KAAA,QAAKkB,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eACnDrB,IAAA,OAAIoB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,CAChDjB,SAAS,CAACkB,MAAM,GAAK,CAAC,cACrBtB,IAAA,MAAGoB,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,qCAA6B,CAAG,CAAC,cAE/ErB,IAAA,QAAKoB,SAAS,CAAC,qEAAqE,CAAAC,QAAA,CACjFjB,SAAS,CAACmB,GAAG,CAACL,IAAI,eACjBlB,IAAA,CAACF,IAAI,EAEHoB,IAAI,CAAEA,IAAK,CACXM,eAAe,CAAE,IAAK,CACtBC,UAAU,CAAEA,CAAA,GAAMZ,oBAAoB,CAACK,IAAI,CAACC,GAAG,CAAED,IAAI,CAACH,IAAI,CAAE,EAHvDG,IAAI,CAACC,GAIX,CACF,CAAC,CACC,CACN,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}