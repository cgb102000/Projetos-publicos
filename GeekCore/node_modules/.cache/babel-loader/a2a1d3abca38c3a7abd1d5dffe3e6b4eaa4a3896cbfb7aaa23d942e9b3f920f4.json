{"ast":null,"code":"import axios from'axios';const api=axios.create({baseURL:'http://localhost:3001'// Removido o /api da baseURL\n});api.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=`Bearer ${token}`;}return config;});// Adicionar tratamento de erro global\napi.interceptors.response.use(response=>response,error=>{var _error$response;console.error('API Error:',error);if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===400){console.error('Bad Request:',error.response.data);}return Promise.reject(error);});export const authService={async login(email,senha){const{data}=await api.post('/api/auth/login',{email,senha});return data;},async register(nome,email,senha){const{data}=await api.post('/api/auth/register',{nome,email,senha});return data;},async toggleFavorite(conteudoId,tipo){const{data}=await api.post('/api/auth/favoritos',{conteudo_id:conteudoId,tipo});return data;},async getFavorites(){const{data}=await api.get('/api/auth/favoritos');return data;}};export const contentService={async getRecentContent(){const{data}=await api.get('/api/recent');return data;},async searchContent(query){const{data}=await api.get(`/api/search?q=${encodeURIComponent(query)}`);return data;},async getItem(collection,id){const{data}=await api.get(`/api/item/${collection}/${id}`);return{...data,collection};},async getRecommendations(collection){const{data}=await api.get(`/api/random/${collection}`);return data.map(item=>({...item,collection}));}};export default api;","map":{"version":3,"names":["axios","api","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","response","error","_error$response","console","status","data","Promise","reject","authService","login","email","senha","post","register","nome","toggleFavorite","conteudoId","tipo","conteudo_id","getFavorites","get","contentService","getRecentContent","searchContent","query","encodeURIComponent","collection","id","getRecommendations","map","item"],"sources":["C:/Users/Caio/Documents/GitHub/Projetos-publicos/GeekCore/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:3001'  // Removido o /api da baseURL\r\n});\r\n\r\napi.interceptors.request.use(config => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// Adicionar tratamento de erro global\r\napi.interceptors.response.use(\r\n  response => response,\r\n  error => {\r\n    console.error('API Error:', error);\r\n    if (error.response?.status === 400) {\r\n      console.error('Bad Request:', error.response.data);\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport const authService = {\r\n  async login(email, senha) {\r\n    const { data } = await api.post('/api/auth/login', { email, senha });\r\n    return data;\r\n  },\r\n\r\n  async register(nome, email, senha) {\r\n    const { data } = await api.post('/api/auth/register', { nome, email, senha });\r\n    return data;\r\n  },\r\n\r\n  async toggleFavorite(conteudoId, tipo) {\r\n    const { data } = await api.post('/api/auth/favoritos', { conteudo_id: conteudoId, tipo });\r\n    return data;\r\n  },\r\n\r\n  async getFavorites() {\r\n    const { data } = await api.get('/api/auth/favoritos');\r\n    return data;\r\n  }\r\n};\r\n\r\nexport const contentService = {\r\n  async getRecentContent() {\r\n    const { data } = await api.get('/api/recent');\r\n    return data;\r\n  },\r\n\r\n  async searchContent(query) {\r\n    const { data } = await api.get(`/api/search?q=${encodeURIComponent(query)}`);\r\n    return data;\r\n  },\r\n\r\n  async getItem(collection, id) {\r\n    const { data } = await api.get(`/api/item/${collection}/${id}`);\r\n    return { ...data, collection };\r\n  },\r\n\r\n  async getRecommendations(collection) {\r\n    const { data } = await api.get(`/api/random/${collection}`);\r\n    return data.map(item => ({ ...item, collection }));\r\n  }\r\n};\r\n\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}