{"ast":null,"code":"import{useState,useEffect,useContext}from'react';import{useSearchParams}from'react-router-dom';import{AuthContext}from'../contexts/AuthContext';import{Card}from'../components/Card';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function Search(){const[searchParams]=useSearchParams();const[results,setResults]=useState([]);const[loading,setLoading]=useState(true);const query=searchParams.get('q');const{isAuthenticated,handleFavorite}=useContext(AuthContext);useEffect(()=>{if(query){searchContent();}},[query]);async function searchContent(){try{setLoading(true);const response=await api.get(`/api/search?q=${encodeURIComponent(query)}`);setResults(response.data);}catch(error){console.error('Erro na busca:',error);}finally{setLoading(false);}}if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"content-section pt-20 animate-fadeIn\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"section-title\",children:[\"Resultados para: \",query]}),results.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-light text-center text-lg\",children:\"Nenhum resultado encontrado.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4\",children:results.map(item=>/*#__PURE__*/_jsx(Card,{item:item,isAuthenticated:isAuthenticated,onFavorite:handleFavorite},item._id))})]});}","map":{"version":3,"names":["useState","useEffect","useContext","useSearchParams","AuthContext","Card","api","jsx","_jsx","jsxs","_jsxs","Search","searchParams","results","setResults","loading","setLoading","query","get","isAuthenticated","handleFavorite","searchContent","response","encodeURIComponent","data","error","console","className","children","length","map","item","onFavorite","_id"],"sources":["C:/Users/Caio/Documents/GitHub/Projetos-publicos/GeekCore/src/pages/Search.js"],"sourcesContent":["import { useState, useEffect, useContext } from 'react';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport { AuthContext } from '../contexts/AuthContext';\r\nimport { Card } from '../components/Card';\r\nimport api from '../services/api';\r\n\r\nexport function Search() {\r\n  const [searchParams] = useSearchParams();\r\n  const [results, setResults] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const query = searchParams.get('q');\r\n  const { isAuthenticated, handleFavorite } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    if (query) {\r\n      searchContent();\r\n    }\r\n  }, [query]);\r\n\r\n  async function searchContent() {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get(`/api/search?q=${encodeURIComponent(query)}`);\r\n      setResults(response.data);\r\n    } catch (error) {\r\n      console.error('Erro na busca:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"content-section pt-20 animate-fadeIn\">\r\n      <h1 className=\"section-title\">\r\n        Resultados para: {query}\r\n      </h1>\r\n      \r\n      {results.length === 0 ? (\r\n        <p className=\"text-light text-center text-lg\">Nenhum resultado encontrado.</p>\r\n      ) : (\r\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4\">\r\n          {results.map(item => (\r\n            <Card \r\n              key={item._id} \r\n              item={item} \r\n              isAuthenticated={isAuthenticated}\r\n              onFavorite={handleFavorite}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CACvD,OAASC,eAAe,KAAQ,kBAAkB,CAClD,OAASC,WAAW,KAAQ,yBAAyB,CACrD,OAASC,IAAI,KAAQ,oBAAoB,CACzC,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,MAAO,SAAS,CAAAC,MAAMA,CAAA,CAAG,CACvB,KAAM,CAACC,YAAY,CAAC,CAAGT,eAAe,CAAC,CAAC,CACxC,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAAiB,KAAK,CAAGL,YAAY,CAACM,GAAG,CAAC,GAAG,CAAC,CACnC,KAAM,CAAEC,eAAe,CAAEC,cAAe,CAAC,CAAGlB,UAAU,CAACE,WAAW,CAAC,CAEnEH,SAAS,CAAC,IAAM,CACd,GAAIgB,KAAK,CAAE,CACTI,aAAa,CAAC,CAAC,CACjB,CACF,CAAC,CAAE,CAACJ,KAAK,CAAC,CAAC,CAEX,cAAe,CAAAI,aAAaA,CAAA,CAAG,CAC7B,GAAI,CACFL,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAM,QAAQ,CAAG,KAAM,CAAAhB,GAAG,CAACY,GAAG,CAAC,iBAAiBK,kBAAkB,CAACN,KAAK,CAAC,EAAE,CAAC,CAC5EH,UAAU,CAACQ,QAAQ,CAACE,IAAI,CAAC,CAC3B,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAAC,CACxC,CAAC,OAAS,CACRT,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAEA,GAAID,OAAO,CAAE,CACX,mBACEP,IAAA,QAAKmB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,cAC5DpB,IAAA,QAAKmB,SAAS,CAAC,0EAA0E,CAAM,CAAC,CAC7F,CAAC,CAEV,CAEA,mBACEjB,KAAA,QAAKiB,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eACnDlB,KAAA,OAAIiB,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,mBACX,CAACX,KAAK,EACrB,CAAC,CAEJJ,OAAO,CAACgB,MAAM,GAAK,CAAC,cACnBrB,IAAA,MAAGmB,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,8BAA4B,CAAG,CAAC,cAE9EpB,IAAA,QAAKmB,SAAS,CAAC,qEAAqE,CAAAC,QAAA,CACjFf,OAAO,CAACiB,GAAG,CAACC,IAAI,eACfvB,IAAA,CAACH,IAAI,EAEH0B,IAAI,CAAEA,IAAK,CACXZ,eAAe,CAAEA,eAAgB,CACjCa,UAAU,CAAEZ,cAAe,EAHtBW,IAAI,CAACE,GAIX,CACF,CAAC,CACC,CACN,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}